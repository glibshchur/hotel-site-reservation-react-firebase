{"ast":null,"code":"import _slicedToArray from\"/Users/hshchu/Desktop/github/e-commerce/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from'react';import{BrowserRouter as Router,Link,Route}from'react-router-dom';import{makeStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';// icons\nimport PermIdentityOutlinedIcon from'@material-ui/icons/PermIdentityOutlined';import{MenuItem}from'@material-ui/core';import Popper from'@material-ui/core/Popper';import Paper from'@material-ui/core/Paper';import MenuList from'@material-ui/core/MenuList';var useStyles=makeStyles(function(theme){return{root:{flexGrow:1,width:\"100%\",backgroundColor:\"#38f25d\"},menuButton:{marginRight:theme.spacing(2)},toolBar:{minHeight:36,margin:0,spacing:0,padding:0},appBar:{width:\"calc(100% - 225px)\",height:36,marginLeft:225,marginTop:0,backgroundColor:'#38f25d'},title:{flexGrow:1},tempDrawerPaper:{width:240,marginLeft:240,marginTop:65},drawer:{width:240,flexShrink:0},drawerPaper:{marginTop:120,width:240},content:{marginLeft:240,flexGrow:1,backgroundColor:\"#38f25d\",padding:theme.spacing(1)},modal:{marginLeft:150,disableBackdropClick:true,hideBackdrop:true,disableEscapeKeyDown:false},icon:{color:'rgba(255, 255, 255, 0.54)'},toolbarIcon:{color:'#FFFFFF'},toolbarButton:{height:\"100%\",minWidth:45,width:50,margin:0,color:'#FFFFFF',borderRadius:0,'&:hover':{backgroundColor:'#D6D6D6'}},cartButton:{height:\"100%\",width:100,margin:0,color:'#FFFFFF',backgroundColor:'#00B4F4',borderRadius:0,'&:hover':{backgroundColor:'#D6D6D6'}},userProfilePopper:{backgroundColor:'#BBBBBB',borderRadius:0,margin:0,spacing:0,padding:0},userProfilePopperButton:{height:40,width:150,align:'left',color:'#FFFFFF',borderRadius:0,'&:hover':{backgroundColor:'#D6D6D6'}},userProfileMenuList:{margin:0,padding:0,spacing:0}};});var ToolbarUserButton=function ToolbarUserButton(props){var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var buttonRef=React.useRef(null);var paperRef=React.useRef(null);var handleMouseOver=function handleMouseOver(e){// open poper on hover\nif(!!buttonRef.current&&!open&&buttonRef.current.contains(e.target)){setOpen(true);}// close poper on hover out\nelse if(!!paperRef.current&&!paperRef.current.contains(e.target)){setOpen(false);}};useEffect(function(){document.addEventListener('mouseover',handleMouseOver,false);return function(){document.removeEventListener('mouseover',handleMouseOver,false);};},[]);var openPopper=function openPopper(){setOpen(true);};// If the there is authenticated user show drop down menu on mouse over\nif(props.authUser)return React.createElement(React.Fragment,null,React.createElement(Button,{ref:buttonRef,className:classes.toolbarButton,onClick:function onClick(){openPopper();}},React.createElement(PermIdentityOutlinedIcon,null)),React.createElement(Popper,{ref:paperRef,open:open,anchorEl:buttonRef.current,placement:\"bottom-end\"},React.createElement(Paper,{className:classes.userProfilePopper,elevation:0},React.createElement(MenuList,{className:classes.userProfileMenuList},React.createElement(MenuItem,{component:Link,to:'/account',className:classes.userProfilePopperButton},\"\\u041E\\u0431\\u043B\\u0456\\u043A\\u043E\\u0432\\u0438\\u0439 \\u0437\\u0430\\u043F\\u0438\\u0441\"),React.createElement(MenuItem,{onClick:props.firebase.doSignOut,component:Link,to:'/login',className:classes.userProfilePopperButton},\"\\u0412\\u0438\\u0439\\u0442\\u0438\")))));return React.createElement(Button,{component:Link,to:'/login',className:classes.toolbarButton},React.createElement(PermIdentityOutlinedIcon,null));};export default ToolbarUserButton;","map":{"version":3,"sources":["/Users/hshchu/Desktop/github/e-commerce/src/components/Navigation/TopBar/ToolbarUserButton.js"],"names":["React","useEffect","useState","useRef","BrowserRouter","Router","Link","Route","makeStyles","Button","PermIdentityOutlinedIcon","MenuItem","Popper","Paper","MenuList","useStyles","theme","root","flexGrow","width","backgroundColor","menuButton","marginRight","spacing","toolBar","minHeight","margin","padding","appBar","height","marginLeft","marginTop","title","tempDrawerPaper","drawer","flexShrink","drawerPaper","content","modal","disableBackdropClick","hideBackdrop","disableEscapeKeyDown","icon","color","toolbarIcon","toolbarButton","minWidth","borderRadius","cartButton","userProfilePopper","userProfilePopperButton","align","userProfileMenuList","ToolbarUserButton","props","classes","open","setOpen","buttonRef","paperRef","handleMouseOver","e","current","contains","target","document","addEventListener","removeEventListener","openPopper","authUser","firebase","doSignOut"],"mappings":"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","sourcesContent":["\nimport React, { useEffect, useState, useRef } from 'react';\nimport { BrowserRouter as Router, Link, Route } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nimport Button from '@material-ui/core/Button';\n\n\n// icons\nimport PermIdentityOutlinedIcon from '@material-ui/icons/PermIdentityOutlined';\n\n\n\nimport { MenuItem } from '@material-ui/core';\n\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport MenuList from '@material-ui/core/MenuList'\n\n\n\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    width:\"100%\",\n    backgroundColor:\"#38f25d\"\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  toolBar:{\n    minHeight:36,\n    margin:0,\n    spacing:0,\n    padding:0,\n  },\n  appBar:{\n    width:`calc(100% - 225px)`,\n    height:36,\n    marginLeft:225,\n    marginTop:0,\n    backgroundColor:'#38f25d'\n  },\n  title: {\n    flexGrow: 1,\n\n  },\n  tempDrawerPaper:{\n    width:240,\n    marginLeft:240,\n    marginTop:65\n  },\n  drawer:{\n    width:240,\n    flexShrink:0,\n  },\n  drawerPaper:{\n    marginTop:120,\n    width:240\n  },\n  content: {\n    marginLeft:240,\n    flexGrow: 1,\n    backgroundColor:\"#38f25d\",\n    padding: theme.spacing(1),\n  },\n  modal: {\n    marginLeft: 150,\n    disableBackdropClick: true,\n    hideBackdrop:true,\n    disableEscapeKeyDown:false\n  },\n  icon: {\n    color: 'rgba(255, 255, 255, 0.54)',\n  },\n\n  toolbarIcon:{\n    color: '#FFFFFF'\n  },\n\n  toolbarButton:{\n    height:\"100%\",\n    minWidth:45,\n    width:50,\n    margin:0,\n    color: '#FFFFFF',\n    borderRadius:0,\n    '&:hover':{\n      backgroundColor: '#D6D6D6'\n    }\n  },\n  cartButton:{\n    height:\"100%\",\n    width:100,\n    margin:0,\n    color: '#FFFFFF',\n    backgroundColor: '#00B4F4',\n    borderRadius:0,\n    '&:hover':{\n      backgroundColor: '#D6D6D6'\n    }\n  },\n  userProfilePopper:{\n    backgroundColor: '#BBBBBB',\n    borderRadius:0,\n    margin:0,\n    spacing:0,\n    padding:0,\n  },\n  userProfilePopperButton:{\n    height: 40,\n    width: 150,\n    align: 'left',\n    color: '#FFFFFF',\n    borderRadius:0,\n    '&:hover':{\n      backgroundColor: '#D6D6D6'\n    }\n  },\n  userProfileMenuList:{\n    margin:0,\n    padding:0,\n    spacing:0,\n  }\n\n\n\n}));\n\n\n\nconst ToolbarUserButton = props => {\n\n  const classes = useStyles();\n\n  const [open, setOpen] = React.useState(false);\n  const buttonRef = React.useRef(null);\n  const paperRef = React.useRef(null);\n\n\n  const handleMouseOver = (e) => {\n    // open poper on hover\n    if(!!buttonRef.current && !open && buttonRef.current.contains(e.target)) {\n      setOpen(true);\n    }\n    // close poper on hover out\n    else if(!!paperRef.current && !paperRef.current.contains(e.target)){\n      setOpen(false);\n    }\n  }\n\n  useEffect(() => {\n\n    document.addEventListener('mouseover', handleMouseOver, false);\n\n    return () => {\n      document.removeEventListener('mouseover', handleMouseOver, false);\n    }\n\n  }, [])\n  \n  const openPopper = () => {\n    setOpen(true);\n  }\n\n\n  // If the there is authenticated user show drop down menu on mouse over\n  if(props.authUser)\n    return(\n      <React.Fragment>\n        <Button ref = {buttonRef} className={classes.toolbarButton} onClick={() => {openPopper()}}>\n          <PermIdentityOutlinedIcon/>\n        </Button>\n\n        <Popper ref = {paperRef} open={open} anchorEl={buttonRef.current} placement='bottom-end'>\n          <Paper  className={classes.userProfilePopper} elevation={0}>\n            <MenuList className={classes.userProfileMenuList}>\n              <MenuItem component={Link} to={'/account'} className={classes.userProfilePopperButton}>\n                Обліковий запис\n              </MenuItem>\n              <MenuItem onClick={props.firebase.doSignOut} component={Link} to={'/login'} className={classes.userProfilePopperButton}>\n                Вийти\n              </MenuItem>\n            </MenuList>\n          </Paper>\n        </Popper>\n\n      </React.Fragment>\n    );\n\n\n  return(\n    <Button component={Link} to = {'/login'} className={classes.toolbarButton}>\n      <PermIdentityOutlinedIcon/>\n    </Button>\n  );\n\n}\n\nexport default ToolbarUserButton;"]},"metadata":{},"sourceType":"module"}