{"ast":null,"code":"import _toConsumableArray from\"/Users/hshchu/Desktop/github/e-commerce/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/hshchu/Desktop/github/e-commerce/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useState,useEffect,isValidElement}from'react';import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';import{DropzoneArea}from'material-ui-dropzone';import Checkbox from'@material-ui/core/Checkbox';import{withFirebase}from'../../Firebase';import{compose}from'recompose';import Grid from'@material-ui/core/Grid';import{withAuthorization,withAuthentication}from'../../Session';import{makeStyles}from'@material-ui/styles';import Autocomplete from'@material-ui/lab/Autocomplete';import{debug}from'util';import FormGroup from'@material-ui/core/FormGroup';import FormControlLabel from'@material-ui/core/FormControlLabel';import FormControl from'@material-ui/core/FormControl';import FormLabel from'@material-ui/core/FormLabel';import SingleLineError from'../../Error';import{Typography}from'@material-ui/core';//<Checkbox checked={isPublic} onChange={(e) => setIsPublic(e.target.checked)}/>\nvar useStyles=makeStyles(function(theme){return{upload:{border:\"1px solid black\"},spacer:{height:20},errorDiv:{marginTop:55},title:{marginTop:50,marginBottom:50},signInButton:{height:47,width:80,marginTop:20,marginBottom:150,color:'#FFFFFF',backgroundColor:'#00B4F4',borderRadius:0,'&:hover':{backgroundColor:'#D6D6D6'}},deleteButton:{height:47,width:80,marginLeft:100,marginTop:20,marginBottom:150,color:'#FFFFFF',float:'right',backgroundColor:'#B40000',borderRadius:0,'&:hover':{backgroundColor:'#D6D6D6'}}};});var EditProduct=function EditProduct(props){var classes=useStyles();var categoryRef=props.firebase.categoryRef();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];// not '', len < 50\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),subCategory=_useState4[0],setSubCategory=_useState4[1];// not '', len < 50\nvar _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];// not '', len < 50\n//const [tags, setTags] = useState('');                           // len < 500\nvar _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];// not '', len < 1000\nvar _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),details=_useState10[0],setDetails=_useState10[1];// no validation, len < 1000\nvar _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),price=_useState12[0],setPrice=_useState12[1];// > 0\nvar _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),previewImage=_useState14[0],setPreviewImage=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),subImageOne=_useState16[0],setSubImageOne=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),subImageTwo=_useState18[0],setSubImageTwo=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),isPublic=_useState20[0],setIsPublic=_useState20[1];//const [model, setModel] = useState('');  // len < 50\nvar _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),categories=_React$useState2[0],setCategories=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),subCategories=_React$useState4[0],setSubCategories=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),errors=_React$useState6[0],setErrors=_React$useState6[1];var onDelete=function onDelete(event){props.firebase.deleteProduct(props.match.params.productId);};var onSubmit=function onSubmit(event){setErrors([]);var _errors=[];if(category.length>50)_errors.push('Category should be less than 50 characters');if(subCategory.length>50)_errors.push('Sub category should be less than 50 characters');if(name.length>50)_errors.push('Name should be less than 50 characters');//if(tags.length > 500) _errors.push('Tags should be less than 500 characters');\nif(category.length>50)_errors.push('Category should be less than 50 characters');if(description.length>1000)_errors.push('Description should be less than 1000 characters');if(details.length>1000)_errors.push('Details should be less than 1000 characters');if(price<0)_errors.push('Price should be a non negative number');//if(model.length > 50) _errors.push('Model should be less than 50 characters');\nsetErrors(_errors);if(_errors.length>0)return;props.firebase.editProduct(props.match.params.productId,{category:category,subCategory:subCategory,name:name,description:description,details:details,price:price,previewImage:previewImage,subImageOne:subImageOne,subImageTwo:subImageTwo,isPublic:isPublic}).then(function(x){return props.history.push(\"/store/\".concat(category,\"/\").concat(subCategory));}).catch(function(err){return setErrors([err.message]);});//setErrors([\"Something went wrong when trying to create new product\"])) \nevent.preventDefault();};// Update autocomplete when category changes\n// This event is fired when user selects autocomplete option\nvar onCategorySelect=function onCategorySelect(event,val){setSubCategories([]);setCategory(val);categories.forEach(function(x){if(x.name===val&&!!x.subCategories){setSubCategories(Object.keys(x.subCategories));}});};//This event fires when user writes in the autocomplete textbox\nvar onCategoryChange=function onCategoryChange(event){setSubCategories([]);var val=event.target.value;setCategory(val);categories.forEach(function(x){if(x.name===val&&!!x.subCategories){setSubCategories(Object.keys(x.subCategories));}});};useEffect(function(){props.firebase.product(props.match.params.productId).once(\"value\",function(snapshot){if(!snapshot.exists()){props.history.push('/404');}else{setCategory(snapshot.val().category);setSubCategory(snapshot.val().subCategory);setName(snapshot.val().name);//setTags(snapshot.val().tags);\nsetDescription(snapshot.val().description);setDetails(snapshot.val().details);setPrice(snapshot.val().price);setSubImageOne(snapshot.val().subImageOne=='null.jpg'?null:snapshot.val().subImageOne);setPreviewImage(snapshot.val().previewImage=='null.jpg'?null:snapshot.val().subImageOne);setSubImageTwo(snapshot.val().subImageTwo=='null.jpg'?null:snapshot.val().subImageOne);setIsPublic(snapshot.val().isPublic);//setModel(snapshot.val().model);\nsetErrors(snapshot.val().errors);}});},[props.match.params.productId]);useEffect(function(){var ca=categoryRef.on(\"child_added\",function(snapshot,prevChildKey){setCategories(function(x){return[].concat(_toConsumableArray(x),[{name:snapshot.key,key:snapshot.key,subCategories:snapshot.val().subCategories}]);});});var cr=categoryRef.on(\"child_removed\",function(snapshot){setCategories(function(x){return x.filter(function(e){return e!==snapshot.key;});});});return function(){categoryRef.off(\"child_added\",ca);categoryRef.off(\"child_removed\",cr);};},[]);return React.createElement(React.Fragment,null,React.createElement(Typography,{className:classes.title,variant:\"h5\"},\" \\u0414\\u043E\\u0434\\u0430\\u0442\\u0438 \\u041D\\u043E\\u0432\\u0438\\u0439 \\u041D\\u043E\\u043C\\u0435\\u0440 \"),React.createElement(\"form\",{onSubmit:onSubmit},React.createElement(Grid,{container:true,spacing:5},React.createElement(Grid,{item:true,xs:6,spacing:5},React.createElement(DropzoneArea,{className:classes.upload,filesLimit:1,dropzoneText:\"\\u0414\\u043E\\u0434\\u0430\\u0439\\u0442\\u0435 \\u0444\\u043E\\u0442\\u043E\",onChange:function onChange(file){return setPreviewImage(file);}}),React.createElement(Grid,{item:true,xs:12},React.createElement(\"div\",{className:classes.spacer},\" \")),React.createElement(Grid,{container:true,spacing:2},React.createElement(Grid,{item:true,xs:6},React.createElement(DropzoneArea,{className:classes.upload,dropzoneText:\"\\u0414\\u043E\\u0434\\u0430\\u0439\\u0442\\u0435 \\u0444\\u043E\\u0442\\u043E\",onChange:function onChange(file){return setSubImageOne(file);}})),React.createElement(Grid,{item:true,xs:6},React.createElement(DropzoneArea,{className:classes.upload,dropzoneText:\"\\u0414\\u043E\\u0434\\u0430\\u0439\\u0442\\u0435 \\u0444\\u043E\\u0442\\u043E\",onChange:function onChange(file){return setSubImageTwo(file);}}))),React.createElement(\"div\",{className:classes.verticalSpacer},!!errors&&errors.map(function(e,i){return React.createElement(SingleLineError,{key:i,error:e});}))),React.createElement(Grid,{item:true,xs:5},React.createElement(Grid,{container:true,spacing:5},React.createElement(Grid,{item:true,xs:6},React.createElement(Autocomplete,{freeSolo:true,id:\"category\",options:categories.map(function(category){return category.name;}),onChange:onCategorySelect,value:category,renderInput:function renderInput(params){return React.createElement(TextField,Object.assign({autoFocus:true},params,{margin:\"normal\",name:\"category\",id:\"category\",label:\"\\u041D\\u0430\\u0437\\u0432\\u0430 \\u043A\\u043E\\u043C\\u043F\\u043B\\u0435\\u043A\\u0441\\u0443\",value:category,onChange:onCategoryChange,fullWidth:true}));}})),React.createElement(Grid,{item:true,xs:6},React.createElement(Autocomplete,{freeSolo:true,id:\"category\",options:subCategories.map(function(category){return category;}),onChange:function onChange(e,v){setSubCategory(v);},value:subCategory,renderInput:function renderInput(params){return React.createElement(TextField,Object.assign({autoFocus:true},params,{margin:\"normal\",name:\"subCategory\",id:\"subCategory\",label:\"\\u041D\\u0430\\u0437\\u0432\\u0430 \\u0433\\u043E\\u0442\\u0435\\u043B\\u044E\",value:subCategory,onChange:function onChange(e){return setSubCategory(e.target.value);},fullWidth:true}));}}))),React.createElement(Grid,{container:true,spacing:5},React.createElement(Grid,{item:true,xs:6},React.createElement(TextField,{autoFocus:true,margin:\"normal\",name:\"name\",id:\"name\",label:\"\\u041D\\u0430\\u0437\\u0432\\u0430 \\u043D\\u043E\\u043C\\u0435\\u0440\\u0443\",value:name,onChange:function onChange(e){return setName(e.target.value);},fullWidth:true}))),React.createElement(TextField,{autoFocus:true,margin:\"normal\",name:\"description\",multiline:true,rows:8,id:\"description\",label:\"\\u041E\\u043F\\u0438\\u0441...\",value:description,onChange:function onChange(e){return setDescription(e.target.value);},fullWidth:true}),React.createElement(TextField,{autoFocus:true,margin:\"normal\",name:\"details\",multiline:true,rows:6,id:\"details\",label:\"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0456\",value:details,onChange:function onChange(e){return setDetails(e.target.value);},fullWidth:true}),React.createElement(TextField,{autoFocus:true,margin:\"normal\",name:\"price\",id:\"price\",label:\"Price\",type:\"number\",value:price,onChange:function onChange(e){return setPrice(e.target.value);},fullWidth:true}),React.createElement(\"div\",null,React.createElement(FormControlLabel,{value:\"bottom\",control:React.createElement(Checkbox,{color:\"primary\",checked:isPublic,onChange:function onChange(e){return setIsPublic(e.target.checked);}}),label:\"Publish \",labelPlacement:\"left\"})),React.createElement(Button,{type:\"submit\",className:classes.signInButton},\" \\u041E\\u043D\\u043E\\u0432\\u0438\\u0442\\u0438 \"),React.createElement(Button,{onClick:onDelete,className:classes.deleteButton},\" \\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438 \")))));};var condition=function condition(authUser){return!!authUser&&authUser.isAdmin;};export default compose(withAuthentication,withAuthorization(condition),withFirebase)(EditProduct);","map":{"version":3,"sources":["/Users/hshchu/Desktop/github/e-commerce/src/components/Product/Edit/index.js"],"names":["React","Component","useState","useEffect","isValidElement","TextField","Button","DropzoneArea","Checkbox","withFirebase","compose","Grid","withAuthorization","withAuthentication","makeStyles","Autocomplete","debug","FormGroup","FormControlLabel","FormControl","FormLabel","SingleLineError","Typography","useStyles","theme","upload","border","spacer","height","errorDiv","marginTop","title","marginBottom","signInButton","width","color","backgroundColor","borderRadius","deleteButton","marginLeft","float","EditProduct","props","classes","categoryRef","firebase","category","setCategory","subCategory","setSubCategory","name","setName","description","setDescription","details","setDetails","price","setPrice","previewImage","setPreviewImage","subImageOne","setSubImageOne","subImageTwo","setSubImageTwo","isPublic","setIsPublic","categories","setCategories","subCategories","setSubCategories","errors","setErrors","onDelete","event","deleteProduct","match","params","productId","onSubmit","_errors","length","push","editProduct","then","x","history","catch","err","message","preventDefault","onCategorySelect","val","forEach","Object","keys","onCategoryChange","target","value","product","once","snapshot","exists","ca","on","prevChildKey","key","cr","filter","e","off","file","verticalSpacer","map","i","v","checked","condition","authUser","isAdmin"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect, isValidElement } from 'react';\n\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport {DropzoneArea} from 'material-ui-dropzone'\n\nimport Checkbox from '@material-ui/core/Checkbox'\nimport { withFirebase } from '../../Firebase';\nimport { compose } from 'recompose';\nimport Grid from '@material-ui/core/Grid'\nimport { withAuthorization, withAuthentication } from '../../Session';\nimport { makeStyles } from '@material-ui/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { debug } from 'util';\n\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport SingleLineError from '../../Error'\nimport { Typography } from '@material-ui/core';\n\n//<Checkbox checked={isPublic} onChange={(e) => setIsPublic(e.target.checked)}/>\n\nconst useStyles = makeStyles(theme => ({\n  upload:{\n    border : \"1px solid black\"\n  },\n  spacer:{\n    height:20\n  },\n  errorDiv:{\n    marginTop:55,\n  },\n  title:{\n    marginTop:50,\n    marginBottom:50,\n  },\n  signInButton:{\n    height:47,\n    width:80,\n    marginTop:20,\n    marginBottom:150,\n    color: '#FFFFFF',\n    backgroundColor: '#00B4F4',\n    borderRadius:0,\n    '&:hover':{\n      backgroundColor: '#D6D6D6'\n    }\n  },\n  deleteButton:{\n    height:47,\n    width:80,\n    marginLeft:100,\n    marginTop:20,\n    marginBottom:150,\n    color: '#FFFFFF',\n    float: 'right',\n    backgroundColor: '#B40000',\n    borderRadius:0,\n    '&:hover':{\n      backgroundColor: '#D6D6D6'\n    }\n  }\n}));\n\nconst EditProduct = (props) => {\n\n  const classes = useStyles();\n  const categoryRef = props.firebase.categoryRef();\n\n  const [category, setCategory] = useState('');                   // not '', len < 50\n  const [subCategory, setSubCategory] = useState('');             // not '', len < 50\n  const [name, setName] = useState('');                           // not '', len < 50\n  //const [tags, setTags] = useState('');                           // len < 500\n  const [description, setDescription] = useState('');             // not '', len < 1000\n  const [details, setDetails] = useState('');                     // no validation, len < 1000\n  const [price, setPrice] = useState(0);                          // > 0\n  const [previewImage, setPreviewImage] = useState(null);         \n  const [subImageOne, setSubImageOne] = useState(null);           \n  const [subImageTwo, setSubImageTwo] = useState(null);           \n  const [isPublic, setIsPublic] = useState(false)\n  //const [model, setModel] = useState('');  // len < 50\n  const [categories, setCategories] = React.useState([])\n  const [subCategories, setSubCategories] = React.useState([]);\n  const [errors, setErrors] = React.useState([]);\n\n\n  const onDelete = event =>{\n    props.firebase.deleteProduct(props.match.params.productId);\n  }\n  const onSubmit = event => {\n\n    setErrors([]);\n\n    let _errors = [];\n\n    if(category.length > 50) _errors.push('Category should be less than 50 characters');\n    if(subCategory.length > 50) _errors.push('Sub category should be less than 50 characters');\n    if(name.length > 50) _errors.push('Name should be less than 50 characters');\n    //if(tags.length > 500) _errors.push('Tags should be less than 500 characters');\n    if(category.length > 50) _errors.push('Category should be less than 50 characters');\n    if(description.length > 1000) _errors.push('Description should be less than 1000 characters');\n    if(details.length > 1000) _errors.push('Details should be less than 1000 characters');\n    if(price < 0) _errors.push('Price should be a non negative number');\n    //if(model.length > 50) _errors.push('Model should be less than 50 characters');\n\n    setErrors(_errors);\n\n    if(_errors.length > 0) return;\n    \n    props.firebase.editProduct(props.match.params.productId, {\n      category,\n      subCategory,\n      name,\n      description,\n      details,\n      price,\n      previewImage,\n      subImageOne,\n      subImageTwo,\n      isPublic,\n    })\n    .then(x => props.history.push(`/store/${category}/${subCategory}`))\n    .catch(err => setErrors([err.message]))//setErrors([\"Something went wrong when trying to create new product\"])) \n\n    event.preventDefault();\n  }\n\n\n  // Update autocomplete when category changes\n  // This event is fired when user selects autocomplete option\n  const onCategorySelect = (event, val) => {\n    setSubCategories([]);\n    setCategory(val);\n    categories.forEach(x => {\n      if(x.name === val && !!x.subCategories){\n        setSubCategories( Object.keys(x.subCategories) )       \n      }\n    })\n  }\n  //This event fires when user writes in the autocomplete textbox\n  const onCategoryChange = (event) => {\n    setSubCategories([]);\n    \n    let val = event.target.value;\n    setCategory(val);\n    categories.forEach(x => {\n      if(x.name === val && !!x.subCategories){\n        setSubCategories( Object.keys(x.subCategories) )\n      }\n    })\n  }\n\n  useEffect(() => {\n    props.firebase.product(props.match.params.productId)\n      .once(\"value\", (snapshot) => {\n        \n        if(!snapshot.exists()){\n          props.history.push('/404');\n        }\n        else {\n          setCategory(snapshot.val().category);\n          setSubCategory(snapshot.val().subCategory);\n          setName(snapshot.val().name);\n          //setTags(snapshot.val().tags);\n          setDescription(snapshot.val().description);\n          setDetails(snapshot.val().details);\n          setPrice(snapshot.val().price);   \n          setSubImageOne(snapshot.val().subImageOne == 'null.jpg' ? null : snapshot.val().subImageOne);\n          setPreviewImage(snapshot.val().previewImage == 'null.jpg' ? null : snapshot.val().subImageOne);\n          setSubImageTwo(snapshot.val().subImageTwo == 'null.jpg' ? null : snapshot.val().subImageOne);   \n          \n          setIsPublic(snapshot.val().isPublic);\n         //setModel(snapshot.val().model);\n          setErrors(snapshot.val().errors);\n        }\n    })     \n  }, [props.match.params.productId]);\n\n  useEffect( () => {\n    const ca = categoryRef.on(\"child_added\", (snapshot, prevChildKey) => {    \n      setCategories(x => [...x, {name:snapshot.key, key:snapshot.key, subCategories:snapshot.val().subCategories}])      \n    })\n\n    const cr = categoryRef.on(\"child_removed\", (snapshot) => {\n      setCategories(x => x.filter(e => e !== snapshot.key) )\n    })\n\n    return () => {\n      categoryRef.off(\"child_added\", ca);\n      categoryRef.off(\"child_removed\", cr);\n    }\n  }, [])\n\n\n\n\n  return(\n    <React.Fragment>\n\n      <Typography className={classes.title} variant=\"h5\"> Додати Новий Номер </Typography>\n\n      <form onSubmit={onSubmit}>\n        <Grid container spacing={5} >\n   \n          <Grid item xs={6} spacing={5}>\n            <DropzoneArea className={classes.upload} filesLimit={1} dropzoneText=\"Додайте фото\" onChange={(file) => setPreviewImage(file)}/>\n            <Grid item xs={12}>\n              <div className={classes.spacer}> </div>\n            </Grid>\n            <Grid container spacing={2}>\n            \n                <Grid item xs={6}>\n                  <DropzoneArea className={classes.upload} dropzoneText=\"Додайте фото\" onChange={(file) => setSubImageOne(file)}/>\n                </Grid>\n                <Grid item xs={6}>\n                  <DropzoneArea className={classes.upload} dropzoneText=\"Додайте фото\" onChange={(file) => setSubImageTwo(file)}/>\n                </Grid>\n              \n            </Grid>\n\n            <div className={classes.verticalSpacer}>\n              {!!errors && errors.map((e, i) => <SingleLineError key={i} error={e}/>)}\n            </div>\n\n            \n\n          </Grid>\n\n          <Grid item xs={5}>\n            <Grid container spacing={5}>\n              <Grid item xs={6}>\n                <Autocomplete \n                  freeSolo\n                  id=\"category\"\n                  options={categories.map(category => category.name)}\n                  onChange={onCategorySelect}\n                  value={category}\n                  renderInput={params => (\n                    <TextField autoFocus  \n                    {...params}        \n                    margin=\"normal\"\n                    name=\"category\"\n                    id=\"category\"\n                    label=\"Назва комплексу\"\n                    value={category}\n                    onChange={onCategoryChange}     \n                    fullWidth\n                    />\n                  )}\n                />\n              </Grid>\n              <Grid item xs={6}>\n              <Autocomplete \n                  freeSolo\n                  id=\"category\"\n                  options={subCategories.map(category => category)}\n                  onChange={(e,v) => {setSubCategory(v)}}\n                  value={subCategory}\n                  renderInput={params => (\n                    <TextField autoFocus  \n                    {...params}        \n                    margin=\"normal\"\n                    name=\"subCategory\"\n                    id=\"subCategory\"\n                    label=\"Назва готелю\"\n                    value={subCategory}\n                    onChange={(e) => setSubCategory(e.target.value)}     \n                    fullWidth\n                    />\n                  )}\n                />\n              </Grid>\n            </Grid>\n\n          \n                  \n              <Grid container spacing={5}>\n                <Grid item xs={6}>                      \n                  <TextField autoFocus          \n                    margin=\"normal\"\n                    name=\"name\"\n                    id=\"name\"\n                    label=\"Назва номеру\"\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                    \n                    fullWidth\n                  />\n                </Grid>\n                {/* <Grid item xs={6}>                         \n                  <TextField autoFocus          \n                    margin=\"normal\"\n                    name=\"subName\"\n                    id=\"subName\"\n                    label=\"model (max 50 char)\"\n                    value={model}\n                    onChange={(e) => setModel(e.target.value)}\n                    \n                    fullWidth\n                  />\n                </Grid> */}\n              </Grid> \n            \n\n\n          <TextField autoFocus          \n            margin=\"normal\"\n            name=\"description\"\n            multiline\n            rows={8}\n            id=\"description\"\n            label=\"Опис...\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            \n            fullWidth\n          />\n\n          <TextField autoFocus          \n            margin=\"normal\"\n            name=\"details\"\n            multiline\n            rows={6}\n            id=\"details\"\n            label=\"Деталі\"\n            value={details}\n            onChange={(e) => setDetails(e.target.value)}\n            \n            fullWidth\n          />\n\n          {/* <TextField autoFocus          \n            margin=\"normal\"\n            name=\"tags\"\n            id=\"tags\"\n            label=\"Tag (max 500 char)\"\n            value={tags}\n            onChange={(e) => setTags(e.target.value)}\n            multiline\n            fullWidth\n          /> */}\n          \n          <TextField autoFocus          \n            margin=\"normal\"\n            name=\"price\"\n            id=\"price\"\n            label=\"Price\"\n            type=\"number\"\n            value={price}\n            onChange={(e) => setPrice(e.target.value)}         \n            fullWidth\n          />\n          <div>\n            <FormControlLabel\n            value=\"bottom\"\n            control={<Checkbox color=\"primary\" checked={isPublic} onChange={(e) => setIsPublic(e.target.checked)}/>}\n            label=\"Publish \"\n            labelPlacement=\"left\"\n            />\n          </div>\n\n          <Button type=\"submit\" className={classes.signInButton}> Оновити </Button>\n          <Button onClick={onDelete}className={classes.deleteButton}> Видалити </Button>\n          </Grid>\n        \n        </Grid>\n        \n\n          \n\n      </form>\n    </React.Fragment>\n  );\n}\n\nconst condition = authUser => !!authUser && authUser.isAdmin;\n\nexport default compose(withAuthentication, withAuthorization(condition), withFirebase)(EditProduct);"]},"metadata":{},"sourceType":"module"}