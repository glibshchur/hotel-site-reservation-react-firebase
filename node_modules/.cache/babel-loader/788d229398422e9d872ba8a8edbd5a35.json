{"ast":null,"code":"import _slicedToArray from \"/Users/hshchu/Desktop/github/e-commerce/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/hshchu/Desktop/github/e-commerce/src/components/Navigation/TopBar/ToolbarUserButton.js\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport { BrowserRouter as Router, Link, Route } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button'; // icons\n\nimport PermIdentityOutlinedIcon from '@material-ui/icons/PermIdentityOutlined';\nimport { MenuItem } from '@material-ui/core';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport MenuList from '@material-ui/core/MenuList';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: \"#EBEBEB\"\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  toolBar: {\n    minHeight: 36,\n    margin: 0,\n    spacing: 0,\n    padding: 0\n  },\n  appBar: {\n    width: \"calc(100% - 225px)\",\n    height: 36,\n    marginLeft: 225,\n    marginTop: 0,\n    backgroundColor: '#BBBBBB'\n  },\n  title: {\n    flexGrow: 1\n  },\n  tempDrawerPaper: {\n    width: 240,\n    marginLeft: 240,\n    marginTop: 65\n  },\n  drawer: {\n    width: 240,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    marginTop: 120,\n    width: 240\n  },\n  content: {\n    marginLeft: 240,\n    flexGrow: 1,\n    backgroundColor: \"#EBEBEB\",\n    padding: theme.spacing(1)\n  },\n  modal: {\n    marginLeft: 150,\n    disableBackdropClick: true,\n    hideBackdrop: true,\n    disableEscapeKeyDown: false\n  },\n  icon: {\n    color: 'rgba(255, 255, 255, 0.54)'\n  },\n  toolbarIcon: {\n    color: '#FFFFFF'\n  },\n  toolbarButton: {\n    height: \"100%\",\n    minWidth: 45,\n    width: 50,\n    margin: 0,\n    color: '#FFFFFF',\n    borderRadius: 0,\n    '&:hover': {\n      backgroundColor: '#D6D6D6'\n    }\n  },\n  cartButton: {\n    height: \"100%\",\n    width: 100,\n    margin: 0,\n    color: '#FFFFFF',\n    backgroundColor: '#00B4F4',\n    borderRadius: 0,\n    '&:hover': {\n      backgroundColor: '#D6D6D6'\n    }\n  },\n  userProfilePopper: {\n    backgroundColor: '#BBBBBB',\n    borderRadius: 0,\n    margin: 0,\n    spacing: 0,\n    padding: 0\n  },\n  userProfilePopperButton: {\n    height: 40,\n    width: 150,\n    align: 'left',\n    color: '#FFFFFF',\n    borderRadius: 0,\n    '&:hover': {\n      backgroundColor: '#D6D6D6'\n    }\n  },\n  userProfileMenuList: {\n    margin: 0,\n    padding: 0,\n    spacing: 0\n  }\n}));\n\nconst ToolbarUserButton = props => {\n  const classes = useStyles();\n\n  const _React$useState = React.useState(false),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        open = _React$useState2[0],\n        setOpen = _React$useState2[1];\n\n  const buttonRef = React.useRef(null);\n  const paperRef = React.useRef(null);\n\n  const handleMouseOver = e => {\n    // open poper on hover\n    if (!!buttonRef.current && !open && buttonRef.current.contains(e.target)) {\n      setOpen(true);\n    } // close poper on hover out\n    else if (!!paperRef.current && !paperRef.current.contains(e.target)) {\n        setOpen(false);\n      }\n  };\n\n  useEffect(() => {\n    document.addEventListener('mouseover', handleMouseOver, false);\n    return () => {\n      document.removeEventListener('mouseover', handleMouseOver, false);\n    };\n  }, []);\n\n  const openPopper = () => {\n    setOpen(true);\n  }; // If the there is authenticated user show drop down menu on mouse over\n\n\n  if (props.authUser) return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(Button, {\n    ref: buttonRef,\n    className: classes.toolbarButton,\n    onClick: () => {\n      openPopper();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(PermIdentityOutlinedIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  })), React.createElement(Popper, {\n    ref: paperRef,\n    open: open,\n    anchorEl: buttonRef.current,\n    placement: \"bottom-end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.userProfilePopper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(MenuList, {\n    className: classes.userProfileMenuList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    component: Link,\n    to: '/account',\n    className: classes.userProfilePopperButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, \"Your account\"), React.createElement(MenuItem, {\n    onClick: props.firebase.doSignOut,\n    className: classes.userProfilePopperButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, \"Log out\")))));\n  return React.createElement(Button, {\n    component: Link,\n    to: '/login',\n    className: classes.toolbarButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, React.createElement(PermIdentityOutlinedIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }));\n};\n\nexport default ToolbarUserButton;","map":{"version":3,"sources":["/Users/hshchu/Desktop/github/e-commerce/src/components/Navigation/TopBar/ToolbarUserButton.js"],"names":["React","useEffect","useState","useRef","BrowserRouter","Router","Link","Route","makeStyles","Button","PermIdentityOutlinedIcon","MenuItem","Popper","Paper","MenuList","useStyles","theme","root","flexGrow","width","backgroundColor","menuButton","marginRight","spacing","toolBar","minHeight","margin","padding","appBar","height","marginLeft","marginTop","title","tempDrawerPaper","drawer","flexShrink","drawerPaper","content","modal","disableBackdropClick","hideBackdrop","disableEscapeKeyDown","icon","color","toolbarIcon","toolbarButton","minWidth","borderRadius","cartButton","userProfilePopper","userProfilePopperButton","align","userProfileMenuList","ToolbarUserButton","props","classes","open","setOpen","buttonRef","paperRef","handleMouseOver","e","current","contains","target","document","addEventListener","removeEventListener","openPopper","authUser","firebase","doSignOut"],"mappings":"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","sourcesContent":["\nimport React, { useEffect, useState, useRef } from 'react';\nimport { BrowserRouter as Router, Link, Route } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nimport Button from '@material-ui/core/Button';\n\n\n// icons\nimport PermIdentityOutlinedIcon from '@material-ui/icons/PermIdentityOutlined';\n\n\n\nimport { MenuItem } from '@material-ui/core';\n\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport MenuList from '@material-ui/core/MenuList'\n\n\n\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    width:\"100%\",\n    backgroundColor:\"#EBEBEB\"\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  toolBar:{\n    minHeight:36,\n    margin:0,\n    spacing:0,\n    padding:0,\n  },\n  appBar:{\n    width:`calc(100% - 225px)`,\n    height:36,\n    marginLeft:225,\n    marginTop:0,\n    backgroundColor:'#BBBBBB'\n  },\n  title: {\n    flexGrow: 1,\n\n  },\n  tempDrawerPaper:{\n    width:240,\n    marginLeft:240,\n    marginTop:65\n  },\n  drawer:{\n    width:240,\n    flexShrink:0,\n  },\n  drawerPaper:{\n    marginTop:120,\n    width:240\n  },\n  content: {\n    marginLeft:240,\n    flexGrow: 1,\n    backgroundColor:\"#EBEBEB\",\n    padding: theme.spacing(1),\n  },\n  modal: {\n    marginLeft: 150,\n    disableBackdropClick: true,\n    hideBackdrop:true,\n    disableEscapeKeyDown:false\n  },\n  icon: {\n    color: 'rgba(255, 255, 255, 0.54)',\n  },\n\n  toolbarIcon:{\n    color: '#FFFFFF'\n  },\n\n  toolbarButton:{\n    height:\"100%\",\n    minWidth:45,\n    width:50,\n    margin:0,\n    color: '#FFFFFF',\n    borderRadius:0,\n    '&:hover':{\n      backgroundColor: '#D6D6D6'\n    }\n  },\n  cartButton:{\n    height:\"100%\",\n    width:100,\n    margin:0,\n    color: '#FFFFFF',\n    backgroundColor: '#00B4F4',\n    borderRadius:0,\n    '&:hover':{\n      backgroundColor: '#D6D6D6'\n    }\n  },\n  userProfilePopper:{\n    backgroundColor: '#BBBBBB',\n    borderRadius:0,\n    margin:0,\n    spacing:0,\n    padding:0,\n  },\n  userProfilePopperButton:{\n    height: 40,\n    width: 150,\n    align: 'left',\n    color: '#FFFFFF',\n    borderRadius:0,\n    '&:hover':{\n      backgroundColor: '#D6D6D6'\n    }\n  },\n  userProfileMenuList:{\n    margin:0,\n    padding:0,\n    spacing:0,\n  }\n\n\n\n}));\n\n\n\nconst ToolbarUserButton = props => {\n\n  const classes = useStyles();\n\n  const [open, setOpen] = React.useState(false);\n  const buttonRef = React.useRef(null);\n  const paperRef = React.useRef(null);\n\n\n  const handleMouseOver = (e) => {\n    // open poper on hover\n    if(!!buttonRef.current && !open && buttonRef.current.contains(e.target)) {\n      setOpen(true);\n    }\n    // close poper on hover out\n    else if(!!paperRef.current && !paperRef.current.contains(e.target)){\n      setOpen(false);\n    }\n  }\n\n  useEffect(() => {\n\n    document.addEventListener('mouseover', handleMouseOver, false);\n\n    return () => {\n      document.removeEventListener('mouseover', handleMouseOver, false);\n    }\n\n  }, [])\n  \n  const openPopper = () => {\n    setOpen(true);\n  }\n\n\n  // If the there is authenticated user show drop down menu on mouse over\n  if(props.authUser)\n    return(\n      <React.Fragment>\n        <Button ref = {buttonRef} className={classes.toolbarButton} onClick={() => {openPopper()}}>\n          <PermIdentityOutlinedIcon/>\n        </Button>\n\n        <Popper ref = {paperRef} open={open} anchorEl={buttonRef.current} placement='bottom-end'>\n          <Paper  className={classes.userProfilePopper} elevation={0}>\n            <MenuList className={classes.userProfileMenuList}>\n              <MenuItem component={Link} to={'/account'} className={classes.userProfilePopperButton}>\n                Your account\n              </MenuItem>\n              <MenuItem onClick={props.firebase.doSignOut} className={classes.userProfilePopperButton}>\n                Log out\n              </MenuItem>\n            </MenuList>\n          </Paper>\n        </Popper>\n\n      </React.Fragment>\n    );\n\n\n  return(\n    <Button component={Link} to = {'/login'} className={classes.toolbarButton}>\n      <PermIdentityOutlinedIcon/>\n    </Button>\n  );\n\n}\n\nexport default ToolbarUserButton;"]},"metadata":{},"sourceType":"module"}