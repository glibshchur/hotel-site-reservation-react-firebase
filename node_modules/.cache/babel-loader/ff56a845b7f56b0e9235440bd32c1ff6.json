{"ast":null,"code":"import _slicedToArray from \"/Users/hshchu/Desktop/github/e-commerce/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/hshchu/Desktop/github/e-commerce/src/components/User/Details/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Link } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport SingleLineError from '../../Error';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/styles';\nimport { withAuthentication, withAuthorization, AuthUserContext } from '../../Session';\nimport { withFirebase } from '../../Firebase';\nimport { compose } from 'recompose';\nimport { Typography } from '@material-ui/core';\nconst useStyles = makeStyles(theme => ({\n  dialogTitle: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  icon: {\n    float: \"right\"\n  },\n  returningCustomerText: {\n    marginTop: 25\n  },\n  signInButton: {\n    height: 47,\n    width: 80,\n    margin: 0,\n    color: '#FFFFFF',\n    backgroundColor: '#00B4F4',\n    borderRadius: 0,\n    '&:hover': {\n      backgroundColor: '#D6D6D6'\n    }\n  },\n  errorPaper: {\n    borderRadius: 0,\n    backgroundColor: '#FFBDBD',\n    height: 70\n  },\n  errorText: {\n    align: \"center\"\n  },\n  link: {\n    color: '#000000',\n    textDecoration: \"none\",\n    '&:hover': {\n      color: '#00B4F4',\n      textDecoration: \"none\"\n    }\n  }\n}));\n\nconst AccountDetails = props => {\n  return React.createElement(AuthUserContext.Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, authUser => !!authUser && React.createElement(AccountDetailsBase, {\n    authUser: authUser,\n    firebase: props.firebase,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }));\n};\n\nconst AccountDetailsBase = props => {\n  const classes = useStyles();\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        userFirstName = _useState2[0],\n        setUserFirstName = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        userLastName = _useState4[0],\n        setUserLastName = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        addressOne = _useState6[0],\n        setAddressOne = _useState6[1];\n\n  const _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        addressTwo = _useState8[0],\n        setAddressTwo = _useState8[1];\n\n  const _useState9 = useState(''),\n        _useState10 = _slicedToArray(_useState9, 2),\n        city = _useState10[0],\n        setCity = _useState10[1];\n\n  const _useState11 = useState(''),\n        _useState12 = _slicedToArray(_useState11, 2),\n        country = _useState12[0],\n        setCountry = _useState12[1];\n\n  const _useState13 = useState(''),\n        _useState14 = _slicedToArray(_useState13, 2),\n        code = _useState14[0],\n        setCode = _useState14[1];\n\n  const _useState15 = useState(''),\n        _useState16 = _slicedToArray(_useState15, 2),\n        phone = _useState16[0],\n        setPhone = _useState16[1];\n\n  const _useState17 = useState([]),\n        _useState18 = _slicedToArray(_useState17, 2),\n        errors = _useState18[0],\n        setErrors = _useState18[1];\n\n  useEffect(() => {\n    setUserFirstName(!!props.authUser.userFirstName ? props.authUser.userFirstName : '');\n    setUserLastName(!!props.authUser.userLastName ? props.authUser.userLastName : '');\n    setAddressOne(!!props.authUser.addressOne ? props.authUser.addressOne : '');\n    setAddressTwo(!!props.authUser.addressTwo ? props.authUser.addressTwo : '');\n    setCity(!!props.authUser.city ? props.authUser.city : '');\n    setCountry(!!props.authUser.country ? props.authUser.country : '');\n    setCode(!!props.authUser.code ? props.authUser.code : '');\n    setPhone(!!props.authUser.phone ? props.authUser.phone : '');\n  }, []);\n\n  const onSubmit = event => {\n    setErrors([]);\n    console.log(props.authUser.uid);\n    let updates = {\n      userFirstName,\n      userLastName,\n      addressOne,\n      addressTwo,\n      city,\n      country,\n      code,\n      phone\n    };\n    props.firebase.user(props.authUser.uid).update(updates).catch(err => !err.message && setErrors(arr => [...arr, err]));\n    event.preventDefault();\n  };\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    className: classes.returningCustomerText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.returningCustomerText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \" Contact Info \"))), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, !!errors && errors.map((err, id) => {\n    return React.createElement(SingleLineError, {\n      key: id,\n      error: err,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    });\n  }), React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    name: \"firstName\",\n    value: userFirstName,\n    onChange: e => setUserFirstName(e.target.value),\n    type: \"text\",\n    autoFocus: true,\n    id: \"firstName\",\n    label: \"First Name\",\n    required: true,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    name: \"lastname\",\n    value: userLastName,\n    onChange: e => setUserLastName(e.target.value),\n    type: \"text\",\n    autoFocus: true,\n    id: \"lastname\",\n    label: \"Last Name\",\n    required: true,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }))), React.createElement(TextField, {\n    name: \"phone\",\n    value: phone,\n    onChange: e => setPhone(e.target.value),\n    autoFocus: true,\n    margin: \"normal\",\n    id: \"phone\",\n    label: \"phone\",\n    type: \"text\",\n    required: true,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }), React.createElement(Button, {\n    className: classes.signInButton,\n    type: \"submit\",\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, \"\\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438\"))), React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  })));\n};\n\nconst condition = authUser => !!authUser;\n\nexport default compose(withAuthentication, withAuthorization(condition), withFirebase)(AccountDetails);","map":{"version":3,"sources":["/Users/hshchu/Desktop/github/e-commerce/src/components/User/Details/index.js"],"names":["React","useState","useEffect","BrowserRouter","Link","TextField","Button","SingleLineError","Grid","makeStyles","withAuthentication","withAuthorization","AuthUserContext","withFirebase","compose","Typography","useStyles","theme","dialogTitle","display","justifyContent","alignItems","icon","float","returningCustomerText","marginTop","signInButton","height","width","margin","color","backgroundColor","borderRadius","errorPaper","errorText","align","link","textDecoration","AccountDetails","props","authUser","firebase","AccountDetailsBase","classes","userFirstName","setUserFirstName","userLastName","setUserLastName","addressOne","setAddressOne","addressTwo","setAddressTwo","city","setCity","country","setCountry","code","setCode","phone","setPhone","errors","setErrors","onSubmit","event","console","log","uid","updates","user","update","catch","err","message","arr","preventDefault","map","id","e","target","value","condition"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Link} from 'react-router-dom';\n\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nimport SingleLineError from '../../Error'\nimport Grid from '@material-ui/core/Grid'\n\nimport { makeStyles } from '@material-ui/styles';\nimport { withAuthentication, withAuthorization, AuthUserContext} from '../../Session'\nimport { withFirebase } from '../../Firebase';\nimport { compose } from 'recompose';\n\nimport { Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  dialogTitle:{\n    display:\"flex\",\n    justifyContent:\"space-between\",\n    alignItems:\"center\"\n  },\n  icon:{\n    float:\"right\"\n  },\n  returningCustomerText:{\n    marginTop:25,\n  },\n  signInButton:{\n    height:47,\n    width:80,\n    margin:0,\n    color: '#FFFFFF',\n    backgroundColor: '#00B4F4',\n    borderRadius:0,\n    '&:hover':{\n      backgroundColor: '#D6D6D6'\n    }\n  },\n  errorPaper:{\n    borderRadius:0,\n    backgroundColor: '#FFBDBD',\n    height:70\n  },\n  errorText:{\n    align:\"center\"\n  },\n  link:{\n    color: '#000000',\n    textDecoration: \"none\",\n    '&:hover':{\n      color: '#00B4F4',\n      textDecoration: \"none\",\n    }\n  }\n}));\n\nconst AccountDetails = (props) => {\n\n\n  return(\n    <AuthUserContext.Consumer>\n      {authUser => (\n        !!authUser && <AccountDetailsBase authUser={authUser} firebase={props.firebase}/>\n      )}   \n    </AuthUserContext.Consumer>  \n  );\n}\n\nconst AccountDetailsBase = (props) => {\n\n  const classes = useStyles();\n\n  const [userFirstName, setUserFirstName     ] = useState('');\n  const [userLastName,  setUserLastName      ] = useState('')\n  const [addressOne,    setAddressOne       ] = useState('');\n  const [addressTwo,    setAddressTwo       ] = useState('');\n  const [city,          setCity             ] = useState('');\n  const [country,       setCountry          ] = useState('');\n  const [code,          setCode             ] = useState('');\n  const [phone,         setPhone            ] = useState('');\n\n  const [errors, setErrors] = useState([]);\n\n  useEffect(() => {\n    setUserFirstName(!!props.authUser.userFirstName ? props.authUser.userFirstName : '') \n    setUserLastName (!!props.authUser.userLastName  ? props.authUser.userLastName  : '') \n    setAddressOne   (!!props.authUser.addressOne    ? props.authUser.addressOne    : '') \n    setAddressTwo   (!!props.authUser.addressTwo    ? props.authUser.addressTwo    : '') \n    setCity         (!!props.authUser.city          ? props.authUser.city          : '') \n    setCountry      (!!props.authUser.country       ? props.authUser.country       : '') \n    setCode         (!!props.authUser.code          ? props.authUser.code          : '') \n    setPhone        (!!props.authUser.phone         ? props.authUser.phone         : '') \n\n  }, [])\n\n  const onSubmit = event => {\n    \n    setErrors([]);\n\n    console.log(props.authUser.uid);\n\n    let updates = {\n      userFirstName,\n      userLastName, \n      addressOne,   \n      addressTwo,   \n      city,         \n      country,      \n      code,         \n      phone, \n    };\n\n    props.firebase.user(props.authUser.uid).update(updates)\n      .catch(err => !err.message && setErrors(arr => [...arr, err]))\n\n    event.preventDefault();\n  }\n\n  return(\n    <React.Fragment>\n      <Grid container className={classes.returningCustomerText}>\n\n        <Grid item xs={3}>\n          <div className={classes.returningCustomerText}>\n            <Typography variant=\"h5\" > Contact Info </Typography>\n          </div>     \n        </Grid>\n\n        <Grid item xs={6}>      \n          <form onSubmit={onSubmit}>     \n            {!!errors && errors.map((err, id) => {\n              return(<SingleLineError key={id} error={err}/>)\n            })}\n            \n            <Grid container spacing={2}>\n              <Grid item xs={6}>\n\n              <TextField\n                name=\"firstName\"\n                value={userFirstName}\n                onChange={(e) => setUserFirstName(e.target.value)}\n                type=\"text\"\n                autoFocus          \n                id=\"firstName\"\n                label=\"First Name\"\n                required\n                fullWidth\n\n              />\n              </Grid>\n              <Grid item xs={6}>\n                <TextField\n                  name=\"lastname\"\n                  value={userLastName}\n                  onChange={(e) => setUserLastName(e.target.value)}\n                  type=\"text\"\n                  autoFocus          \n                  id=\"lastname\"\n                  label=\"Last Name\"\n                  required\n                  fullWidth\n                />\n              </Grid>\n            </Grid>\n            {/* <TextField\n                autoFocus          \n                margin=\"normal\"\n                name=\"addressOne\"\n                value={addressOne}\n                onChange={(e) => setAddressOne(e.target.value)}\n                id=\"addressOne\"\n                label=\"Address 1\"\n                type=\"text\"\n                required\n                fullWidth\n              />\n              <TextField\n                name=\"addressTwo\"\n                value={addressTwo}\n                onChange={(e) => setAddressTwo(e.target.value)}\n                autoFocus\n                margin=\"normal\"\n                id=\"addressTwo\"\n                label=\"Address 2\"\n                type=\"text\"\n                required\n                fullWidth\n              />\n              <TextField\n                name=\"city\"\n                value={city}\n                onChange={(e) => setCity(e.target.value)}\n                autoFocus\n                margin=\"normal\"\n                id=\"city\"\n                label=\"City\"\n                type=\"text\"\n                required\n                fullWidth\n              />\n              <TextField\n                name=\"country\"\n                value={country}\n                onChange={(e) => setCountry(e.target.value)}\n                autoFocus\n                margin=\"normal\"\n                id=\"country\"\n                label=\"Country\"\n                type=\"text\"\n                required\n                fullWidth\n              />\n               <TextField\n                name=\"code\"\n                value={code}\n                onChange={(e) => setCode(e.target.value)}\n                autoFocus\n                margin=\"normal\"\n                id=\"code\"\n                label=\"code\"\n                type=\"text\"\n                required\n                fullWidth\n              /> */}\n               <TextField\n                name=\"phone\"\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n                autoFocus\n                margin=\"normal\"\n                id=\"phone\"\n                label=\"phone\"\n                type=\"text\"\n                required\n                fullWidth\n              />\n              <Button className={classes.signInButton} type=\"submit\" color=\"primary\">\n                Зберегти\n              </Button>\n          </form>\n          </Grid>\n            <Grid item xs={3}>\n          </Grid>\n      </Grid>\n    </React.Fragment>\n  );\n\n}\n\nconst condition = (authUser) => !!authUser\n\nexport default compose(withAuthentication, withAuthorization(condition), withFirebase)(AccountDetails);\n\n\n"]},"metadata":{},"sourceType":"module"}