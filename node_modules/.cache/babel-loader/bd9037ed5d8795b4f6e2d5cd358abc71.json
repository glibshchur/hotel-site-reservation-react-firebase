{"ast":null,"code":"import _defineProperty from \"/Users/hshchu/Desktop/github/e-commerce/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/hshchu/Desktop/github/e-commerce/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/hshchu/Desktop/github/e-commerce/src/components/CheckOut/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport SingleLineError from '../Error';\nimport { withFirebase } from '../Firebase';\nimport { compose } from 'recompose';\nimport React, { useEffect, useState, useRef } from 'react';\nimport { BrowserRouter as Router, Link, Route } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport NullImage from '../Product/No-Image-Available.jpg';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport Drawer from '@material-ui/core/Drawer';\nimport { CardMedia, Card, CardContent, CardActions } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport { withAuthentication, AuthUserContext } from '../Session';\nconst useStyles = makeStyles({\n  grid: {\n    margin: 0,\n    padding: 0,\n    marginLeft: 0\n  },\n  paper: {\n    marginLeft: 40,\n    width: '100%',\n    backgroundColor: \"rgba(0,0,0,0)\"\n  },\n  fullList: {\n    width: 'auto'\n  },\n  cartButton: {\n    marginTop: 20,\n    height: 47,\n    width: '100%',\n    color: '#FFFFFF',\n    float: 'center',\n    backgroundColor: '#00B4F4',\n    borderRadius: 0,\n    '&:hover': {\n      backgroundColor: '#D6D6D6'\n    }\n  }\n});\nconst CheckOutView = compose(withAuthentication, withFirebase)(props => {\n  return React.createElement(AuthUserContext.Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, authUser => React.createElement(CheckOutViewBase, {\n    authUser: authUser,\n    firebase: props.firebase,\n    history: props.history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }));\n});\n\nconst CheckOutViewBase = props => {\n  const classes = useStyles();\n  const storageRef = props.firebase.storage;\n\n  const _React$useState = React.useState(0),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        total = _React$useState2[0],\n        setTotal = _React$useState2[1];\n\n  const _React$useState3 = React.useState([]),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        products = _React$useState4[0],\n        setProducts = _React$useState4[1];\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        email = _useState2[0],\n        setEmail = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        userFirstName = _useState4[0],\n        setUserFirstName = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        userLastName = _useState6[0],\n        setUserLastName = _useState6[1];\n\n  const _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        addressOne = _useState8[0],\n        setAddressOne = _useState8[1];\n\n  const _useState9 = useState(''),\n        _useState10 = _slicedToArray(_useState9, 2),\n        addressTwo = _useState10[0],\n        setAddressTwo = _useState10[1];\n\n  const _useState11 = useState(''),\n        _useState12 = _slicedToArray(_useState11, 2),\n        city = _useState12[0],\n        setCity = _useState12[1];\n\n  const _useState13 = useState(''),\n        _useState14 = _slicedToArray(_useState13, 2),\n        country = _useState14[0],\n        setCountry = _useState14[1];\n\n  const _useState15 = useState(''),\n        _useState16 = _slicedToArray(_useState15, 2),\n        code = _useState16[0],\n        setCode = _useState16[1];\n\n  const _useState17 = useState(''),\n        _useState18 = _slicedToArray(_useState17, 2),\n        phone = _useState18[0],\n        setPhone = _useState18[1];\n\n  const _useState19 = useState([]),\n        _useState20 = _slicedToArray(_useState19, 2),\n        errors = _useState20[0],\n        setErorrs = _useState20[1];\n\n  useEffect(() => {\n    setEmail(!!props.authUser && !!props.authUser.email ? props.authUser.email : '');\n    setUserFirstName(!!props.authUser && !!props.authUser.userFirstName ? props.authUser.userFirstName : '');\n    setUserLastName(!!props.authUser && !!props.authUser.userLastName ? props.authUser.userLastName : '');\n    setAddressOne(!!props.authUser && !!props.authUser.addressOne ? props.authUser.addressOne : '');\n    setAddressTwo(!!props.authUser && !!props.authUser.addressTwo ? props.authUser.addressTwo : '');\n    setCity(!!props.authUser && !!props.authUser.city ? props.authUser.city : '');\n    setCountry(!!props.authUser && !!props.authUser.country ? props.authUser.country : '');\n    setCode(!!props.authUser && !!props.authUser.code ? props.authUser.code : '');\n    setPhone(!!props.authUser && !!props.authUser.phone ? props.authUser.phone : '');\n  }, []);\n  useEffect(() => {\n    if (!!localStorage.getItem('cart')) {\n      let obj = JSON.parse(localStorage.getItem('cart'));\n      setTotal(0);\n      setProducts([]);\n\n      if (!!obj) {\n        obj.forEach(e => {\n          if (!!e.key) props.firebase.products().child(e.key).once('value', snapshot => {\n            if (snapshot.exists()) {\n              // Try to get url from the storage\n              storageRef.ref().child(snapshot.val().previewImage).getDownloadURL().then(url => {\n                let element = _objectSpread({}, snapshot.val(), {\n                  imageRef: url,\n                  key: snapshot.key\n                });\n\n                console.log(element.imageRef);\n\n                if (element.isPublic) {\n                  setTotal(t => +t + +element.price);\n                  setProducts(a => [...a, element]);\n                } // if it fails set the url to the default image\n\n              }).catch(err => {\n                let element = _objectSpread({}, snapshot.val(), {\n                  imageRef: NullImage,\n                  key: snapshot.key\n                });\n\n                console.log(element.imageRef);\n\n                if (element.isPublic) {\n                  setTotal(t => t + element.price);\n                  setProducts(a => [...a, element]);\n                }\n              });\n            }\n          });\n        });\n      }\n    }\n  }, []);\n\n  const onSubmit = event => {\n    let user = {\n      email,\n      userFirstName,\n      userLastName,\n      addressOne,\n      addressTwo,\n      city,\n      country,\n      code,\n      phone\n    };\n    props.firebase.createOrder(JSON.parse(localStorage.getItem('cart')), user).catch(err => {\n      console.log(err);\n    });\n    localStorage.setItem('cart', JSON.stringify([]));\n    props.history.push('/');\n    event.preventDefault();\n  };\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(Drawer, {\n    anchor: \"right\",\n    open: props.open,\n    onClose: () => console.log(\"cart closed\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/checkout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"Check out\")), React.createElement(Grid, {\n    container: true,\n    className: classes.returningCustomerText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.returningCustomerText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, \" Check Out \"))), React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, !!errors && errors.map((err, id) => {\n    return React.createElement(SingleLineError, {\n      key: id,\n      error: err,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    });\n  }), React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"normal\",\n    name: \"addressOne\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    id: \"addressOne\",\n    label: \"Address 1\",\n    type: \"email\",\n    required: true,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    name: \"firstName\",\n    value: userFirstName,\n    onChange: e => setUserFirstName(e.target.value),\n    type: \"text\",\n    autoFocus: true,\n    id: \"firstName\",\n    label: \"First Name\",\n    required: true,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    name: \"lastname\",\n    value: userLastName,\n    onChange: e => setUserLastName(e.target.value),\n    type: \"text\",\n    autoFocus: true,\n    id: \"lastname\",\n    label: \"Last Name\",\n    required: true,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }))), React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"normal\",\n    name: \"addressOne\",\n    value: addressOne,\n    onChange: e => setAddressOne(e.target.value),\n    id: \"addressOne\",\n    label: \"Address 1\",\n    type: \"text\",\n    required: true,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    name: \"addressTwo\",\n    value: addressTwo,\n    onChange: e => setAddressTwo(e.target.value),\n    autoFocus: true,\n    margin: \"normal\",\n    id: \"addressTwo\",\n    label: \"Address 2\",\n    type: \"text\",\n    required: true,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    name: \"city\",\n    value: city,\n    onChange: e => setCity(e.target.value),\n    autoFocus: true,\n    margin: \"normal\",\n    id: \"city\",\n    label: \"City\",\n    type: \"text\",\n    required: true,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    name: \"country\",\n    value: country,\n    onChange: e => setCountry(e.target.value),\n    autoFocus: true,\n    margin: \"normal\",\n    id: \"country\",\n    label: \"Country\",\n    type: \"text\",\n    required: true,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    name: \"code\",\n    value: code,\n    onChange: e => setCode(e.target.value),\n    autoFocus: true,\n    margin: \"normal\",\n    id: \"code\",\n    label: \"code\",\n    type: \"text\",\n    required: true,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    name: \"phone\",\n    value: phone,\n    onChange: e => setPhone(e.target.value),\n    autoFocus: true,\n    margin: \"normal\",\n    id: \"phone\",\n    label: \"phone\",\n    type: \"text\",\n    required: true,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280\n    },\n    __self: this\n  }), React.createElement(Button, {\n    className: classes.cartButton,\n    type: \"submit\",\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292\n    },\n    __self: this\n  }, \"Check Out\"))), React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299\n    },\n    __self: this\n  }, React.createElement(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300\n    },\n    __self: this\n  }, React.createElement(ListItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  }, \" Shopping cart \")), products.map((product, i) => React.createElement(ListItem, {\n    className: classes.grid,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: product.imageRef,\n    width: '100%',\n    height: '100%',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 9,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }, \" \", product.name, \" \"), React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312\n    },\n    __self: this\n  }, \" \", product.model, \" \"), React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313\n    },\n    __self: this\n  }, \" $\", product.price, \" \")))))), React.createElement(ListItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  }, \" Total : $\", total, \" \"))))));\n};\n\nexport default CheckOutView;","map":{"version":3,"sources":["/Users/hshchu/Desktop/github/e-commerce/src/components/CheckOut/index.js"],"names":["Paper","Grid","SingleLineError","withFirebase","compose","React","useEffect","useState","useRef","BrowserRouter","Router","Link","Route","makeStyles","NullImage","Typography","TextField","ListItem","List","Drawer","CardMedia","Card","CardContent","CardActions","Button","withAuthentication","AuthUserContext","useStyles","grid","margin","padding","marginLeft","paper","width","backgroundColor","fullList","cartButton","marginTop","height","color","float","borderRadius","CheckOutView","props","authUser","firebase","history","CheckOutViewBase","classes","storageRef","storage","total","setTotal","products","setProducts","email","setEmail","userFirstName","setUserFirstName","userLastName","setUserLastName","addressOne","setAddressOne","addressTwo","setAddressTwo","city","setCity","country","setCountry","code","setCode","phone","setPhone","errors","setErorrs","localStorage","getItem","obj","JSON","parse","forEach","e","key","child","once","snapshot","exists","ref","val","previewImage","getDownloadURL","then","url","element","imageRef","console","log","isPublic","t","price","a","catch","err","onSubmit","event","user","createOrder","setItem","stringify","push","preventDefault","open","returningCustomerText","map","id","target","value","product","i","name","model"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,eAAP,MAA4B,UAA5B;AACA,SAAQC,YAAR,QAA2B,aAA3B;AACA,SAAQC,OAAR,QAAsB,WAAtB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,IAAlC,EAAwCC,KAAxC,QAAqD,kBAArD;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,mCAAtB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,WAA1B,EAAuCC,WAAvC,QAA0D,mBAA1D;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,kBAAT,EAA6BC,eAA7B,QAAoD,YAApD;AAGA,MAAMC,SAAS,GAAGd,UAAU,CAAC;AAC3Be,EAAAA,IAAI,EAAC;AACHC,IAAAA,MAAM,EAAC,CADJ;AAEHC,IAAAA,OAAO,EAAC,CAFL;AAGHC,IAAAA,UAAU,EAAC;AAHR,GADsB;AAM3BC,EAAAA,KAAK,EAAE;AACLD,IAAAA,UAAU,EAAC,EADN;AAELE,IAAAA,KAAK,EAAE,MAFF;AAGLC,IAAAA,eAAe,EAAE;AAHZ,GANoB;AAW3BC,EAAAA,QAAQ,EAAE;AACRF,IAAAA,KAAK,EAAE;AADC,GAXiB;AAc3BG,EAAAA,UAAU,EAAC;AACTC,IAAAA,SAAS,EAAC,EADD;AAETC,IAAAA,MAAM,EAAC,EAFE;AAGTL,IAAAA,KAAK,EAAC,MAHG;AAITM,IAAAA,KAAK,EAAE,SAJE;AAKTC,IAAAA,KAAK,EAAC,QALG;AAMTN,IAAAA,eAAe,EAAE,SANR;AAOTO,IAAAA,YAAY,EAAC,CAPJ;AAQT,eAAU;AACRP,MAAAA,eAAe,EAAE;AADT;AARD;AAdgB,CAAD,CAA5B;AA6BA,MAAMQ,YAAY,GAAGtC,OAAO,CAACqB,kBAAD,EAAqBtB,YAArB,CAAP,CAA2CwC,KAAD,IAAW;AAExE,SACC,oBAAC,eAAD,CAAiB,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,QAAQ,IAAI,oBAAC,gBAAD;AAAkB,IAAA,QAAQ,EAAEA,QAA5B;AAAsC,IAAA,QAAQ,EAAED,KAAK,CAACE,QAAtD;AAAgE,IAAA,OAAO,EAAEF,KAAK,CAACG,OAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADf,CADD;AAKD,CAPoB,CAArB;;AASA,MAAMC,gBAAgB,GAAIJ,KAAD,IAAW;AAClC,QAAMK,OAAO,GAAGrB,SAAS,EAAzB;AACA,QAAMsB,UAAU,GAAGN,KAAK,CAACE,QAAN,CAAeK,OAAlC;;AAFkC,0BAGR7C,KAAK,CAACE,QAAN,CAAe,CAAf,CAHQ;AAAA;AAAA,QAG3B4C,KAH2B;AAAA,QAGpBC,QAHoB;;AAAA,2BAIF/C,KAAK,CAACE,QAAN,CAAe,EAAf,CAJE;AAAA;AAAA,QAI3B8C,QAJ2B;AAAA,QAIjBC,WAJiB;;AAAA,oBAMY/C,QAAQ,CAAC,EAAD,CANpB;AAAA;AAAA,QAM3BgD,KAN2B;AAAA,QAMpBC,QANoB;;AAAA,qBAOajD,QAAQ,CAAC,EAAD,CAPrB;AAAA;AAAA,QAO3BkD,aAP2B;AAAA,QAOZC,gBAPY;;AAAA,qBAQanD,QAAQ,CAAC,EAAD,CARrB;AAAA;AAAA,QAQ3BoD,YAR2B;AAAA,QAQZC,eARY;;AAAA,qBASYrD,QAAQ,CAAC,EAAD,CATpB;AAAA;AAAA,QAS3BsD,UAT2B;AAAA,QASZC,aATY;;AAAA,qBAUYvD,QAAQ,CAAC,EAAD,CAVpB;AAAA;AAAA,QAU3BwD,UAV2B;AAAA,QAUZC,aAVY;;AAAA,sBAWYzD,QAAQ,CAAC,EAAD,CAXpB;AAAA;AAAA,QAW3B0D,IAX2B;AAAA,QAWZC,OAXY;;AAAA,sBAYY3D,QAAQ,CAAC,EAAD,CAZpB;AAAA;AAAA,QAY3B4D,OAZ2B;AAAA,QAYZC,UAZY;;AAAA,sBAaY7D,QAAQ,CAAC,EAAD,CAbpB;AAAA;AAAA,QAa3B8D,IAb2B;AAAA,QAaZC,OAbY;;AAAA,sBAcY/D,QAAQ,CAAC,EAAD,CAdpB;AAAA;AAAA,QAc3BgE,KAd2B;AAAA,QAcZC,QAdY;;AAAA,sBAeNjE,QAAQ,CAAC,EAAD,CAfF;AAAA;AAAA,QAe3BkE,MAf2B;AAAA,QAenBC,SAfmB;;AAiBlCpE,EAAAA,SAAS,CAAC,MAAM;AACdkD,IAAAA,QAAQ,CAAS,CAAC,CAACb,KAAK,CAACC,QAAR,IAAoB,CAAC,CAACD,KAAK,CAACC,QAAN,CAAeW,KAArC,GAAqDZ,KAAK,CAACC,QAAN,CAAeW,KAApE,GAAqF,EAA9F,CAAR;AACAG,IAAAA,gBAAgB,CAAC,CAAC,CAACf,KAAK,CAACC,QAAR,IAAoB,CAAC,CAACD,KAAK,CAACC,QAAN,CAAea,aAArC,GAAqDd,KAAK,CAACC,QAAN,CAAea,aAApE,GAAqF,EAAtF,CAAhB;AACAG,IAAAA,eAAe,CAAE,CAAC,CAACjB,KAAK,CAACC,QAAR,IAAoB,CAAC,CAACD,KAAK,CAACC,QAAN,CAAee,YAArC,GAAqDhB,KAAK,CAACC,QAAN,CAAee,YAApE,GAAqF,EAAvF,CAAf;AACAG,IAAAA,aAAa,CAAI,CAAC,CAACnB,KAAK,CAACC,QAAR,IAAoB,CAAC,CAACD,KAAK,CAACC,QAAN,CAAeiB,UAArC,GAAqDlB,KAAK,CAACC,QAAN,CAAeiB,UAApE,GAAqF,EAAzF,CAAb;AACAG,IAAAA,aAAa,CAAI,CAAC,CAACrB,KAAK,CAACC,QAAR,IAAoB,CAAC,CAACD,KAAK,CAACC,QAAN,CAAemB,UAArC,GAAqDpB,KAAK,CAACC,QAAN,CAAemB,UAApE,GAAqF,EAAzF,CAAb;AACAG,IAAAA,OAAO,CAAU,CAAC,CAACvB,KAAK,CAACC,QAAR,IAAoB,CAAC,CAACD,KAAK,CAACC,QAAN,CAAeqB,IAArC,GAAqDtB,KAAK,CAACC,QAAN,CAAeqB,IAApE,GAAqF,EAA/F,CAAP;AACAG,IAAAA,UAAU,CAAO,CAAC,CAACzB,KAAK,CAACC,QAAR,IAAoB,CAAC,CAACD,KAAK,CAACC,QAAN,CAAeuB,OAArC,GAAqDxB,KAAK,CAACC,QAAN,CAAeuB,OAApE,GAAqF,EAA5F,CAAV;AACAG,IAAAA,OAAO,CAAU,CAAC,CAAC3B,KAAK,CAACC,QAAR,IAAoB,CAAC,CAACD,KAAK,CAACC,QAAN,CAAeyB,IAArC,GAAqD1B,KAAK,CAACC,QAAN,CAAeyB,IAApE,GAAqF,EAA/F,CAAP;AACAG,IAAAA,QAAQ,CAAS,CAAC,CAAC7B,KAAK,CAACC,QAAR,IAAoB,CAAC,CAACD,KAAK,CAACC,QAAN,CAAe2B,KAArC,GAAqD5B,KAAK,CAACC,QAAN,CAAe2B,KAApE,GAAqF,EAA9F,CAAR;AAED,GAXQ,EAWN,EAXM,CAAT;AAaDjE,EAAAA,SAAS,CAAC,MAAM;AACb,QAAG,CAAC,CAACqE,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAL,EAAkC;AAEhC,UAAIC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAV;AAEAxB,MAAAA,QAAQ,CAAC,CAAD,CAAR;AACAE,MAAAA,WAAW,CAAC,EAAD,CAAX;;AAEA,UAAG,CAAC,CAACuB,GAAL,EAAU;AACRA,QAAAA,GAAG,CAACG,OAAJ,CAAaC,CAAC,IAAI;AAChB,cAAG,CAAC,CAACA,CAAC,CAACC,GAAP,EACEvC,KAAK,CAACE,QAAN,CAAeQ,QAAf,GAA0B8B,KAA1B,CAAgCF,CAAC,CAACC,GAAlC,EAAuCE,IAAvC,CAA4C,OAA5C,EAAsDC,QAAD,IAAc;AACjE,gBAAGA,QAAQ,CAACC,MAAT,EAAH,EAAsB;AAElB;AACArC,cAAAA,UAAU,CAACsC,GAAX,GAAiBJ,KAAjB,CAAuBE,QAAQ,CAACG,GAAT,GAAeC,YAAtC,EAAoDC,cAApD,GAAqEC,IAArE,CAA4EC,GAAD,IAAS;AAElF,oBAAIC,OAAO,qBAAOR,QAAQ,CAACG,GAAT,EAAP;AAAuBM,kBAAAA,QAAQ,EAACF,GAAhC;AAAqCV,kBAAAA,GAAG,EAACG,QAAQ,CAACH;AAAlD,kBAAX;;AAEAa,gBAAAA,OAAO,CAACC,GAAR,CAAYH,OAAO,CAACC,QAApB;;AACA,oBAAGD,OAAO,CAACI,QAAX,EAAqB;AACnB7C,kBAAAA,QAAQ,CAAC8C,CAAC,IAAK,CAACA,CAAD,GAAK,CAACL,OAAO,CAACM,KAArB,CAAR;AACA7C,kBAAAA,WAAW,CAAC8C,CAAC,IAAI,CAAC,GAAGA,CAAJ,EAAOP,OAAP,CAAN,CAAX;AACD,iBARiF,CASlF;;AACD,eAVD,EAUGQ,KAVH,CAUSC,GAAG,IAAI;AAEd,oBAAIT,OAAO,qBAAOR,QAAQ,CAACG,GAAT,EAAP;AAAuBM,kBAAAA,QAAQ,EAAChF,SAAhC;AAA2CoE,kBAAAA,GAAG,EAACG,QAAQ,CAACH;AAAxD,kBAAX;;AACAa,gBAAAA,OAAO,CAACC,GAAR,CAAYH,OAAO,CAACC,QAApB;;AACA,oBAAGD,OAAO,CAACI,QAAX,EAAqB;AACnB7C,kBAAAA,QAAQ,CAAC8C,CAAC,IAAIA,CAAC,GAAGL,OAAO,CAACM,KAAlB,CAAR;AACA7C,kBAAAA,WAAW,CAAC8C,CAAC,IAAI,CAAC,GAAGA,CAAJ,EAAOP,OAAP,CAAN,CAAX;AACD;AACF,eAlBD;AAmBH;AACF,WAxBD;AAyBD,SA3BH;AA4BD;AACF;AACF,GAvCO,EAuCL,EAvCK,CAAT;;AAyCC,QAAMU,QAAQ,GAAGC,KAAK,IAAI;AAExB,QAAIC,IAAI,GAAG;AACPlD,MAAAA,KADO;AAEPE,MAAAA,aAFO;AAGPE,MAAAA,YAHO;AAIPE,MAAAA,UAJO;AAKPE,MAAAA,UALO;AAMPE,MAAAA,IANO;AAOPE,MAAAA,OAPO;AAQPE,MAAAA,IARO;AASPE,MAAAA;AATO,KAAX;AAYA5B,IAAAA,KAAK,CAACE,QAAN,CAAe6D,WAAf,CAA2B5B,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAA3B,EAAqE6B,IAArE,EACGJ,KADH,CACUC,GAAD,IAAS;AACdP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACD,KAHH;AAMA3B,IAAAA,YAAY,CAACgC,OAAb,CAAqB,MAArB,EAA6B7B,IAAI,CAAC8B,SAAL,CAAe,EAAf,CAA7B;AACAjE,IAAAA,KAAK,CAACG,OAAN,CAAc+D,IAAd,CAAmB,GAAnB;AACAL,IAAAA,KAAK,CAACM,cAAN;AAED,GAxBD;;AA0BA,SACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,MAAM,EAAC,OAAf;AAAuB,IAAA,IAAI,EAAEnE,KAAK,CAACoE,IAAnC;AAAyC,IAAA,OAAO,EAAE,MAAMhB,OAAO,CAACC,GAAR,CAAY,aAAZ,CAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEA,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFA,CADF,EAQE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,SAAS,EAAEhD,OAAO,CAACgE,qBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEhE,OAAO,CAACgE,qBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CADF,CAFF,EAQE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAET,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAC,CAAC9B,MAAF,IAAYA,MAAM,CAACwC,GAAP,CAAW,CAACX,GAAD,EAAMY,EAAN,KAAa;AACnC,WAAO,oBAAC,eAAD;AAAiB,MAAA,GAAG,EAAEA,EAAtB;AAA0B,MAAA,KAAK,EAAEZ,GAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFY,CADf,EAIE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,SAAD;AACI,IAAA,SAAS,MADb;AAEI,IAAA,MAAM,EAAC,QAFX;AAGI,IAAA,IAAI,EAAC,YAHT;AAII,IAAA,KAAK,EAAE/C,KAJX;AAKI,IAAA,QAAQ,EAAG0B,CAAD,IAAOzB,QAAQ,CAACyB,CAAC,CAACkC,MAAF,CAASC,KAAV,CAL7B;AAMI,IAAA,EAAE,EAAC,YANP;AAOI,IAAA,KAAK,EAAC,WAPV;AAQI,IAAA,IAAI,EAAC,OART;AASI,IAAA,QAAQ,MATZ;AAUI,IAAA,SAAS,MAVb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAaE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEA,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,WADP;AAEE,IAAA,KAAK,EAAE3D,aAFT;AAGE,IAAA,QAAQ,EAAGwB,CAAD,IAAOvB,gBAAgB,CAACuB,CAAC,CAACkC,MAAF,CAASC,KAAV,CAHnC;AAIE,IAAA,IAAI,EAAC,MAJP;AAKE,IAAA,SAAS,MALX;AAME,IAAA,EAAE,EAAC,WANL;AAOE,IAAA,KAAK,EAAC,YAPR;AAQE,IAAA,QAAQ,MARV;AASE,IAAA,SAAS,MATX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFA,CAbF,EA4BE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,KAAK,EAAEzD,YAFT;AAGE,IAAA,QAAQ,EAAGsB,CAAD,IAAOrB,eAAe,CAACqB,CAAC,CAACkC,MAAF,CAASC,KAAV,CAHlC;AAIE,IAAA,IAAI,EAAC,MAJP;AAKE,IAAA,SAAS,MALX;AAME,IAAA,EAAE,EAAC,UANL;AAOE,IAAA,KAAK,EAAC,WAPR;AAQE,IAAA,QAAQ,MARV;AASE,IAAA,SAAS,MATX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA5BF,CAJF,EA8CE,oBAAC,SAAD;AACI,IAAA,SAAS,MADb;AAEI,IAAA,MAAM,EAAC,QAFX;AAGI,IAAA,IAAI,EAAC,YAHT;AAII,IAAA,KAAK,EAAEvD,UAJX;AAKI,IAAA,QAAQ,EAAGoB,CAAD,IAAOnB,aAAa,CAACmB,CAAC,CAACkC,MAAF,CAASC,KAAV,CALlC;AAMI,IAAA,EAAE,EAAC,YANP;AAOI,IAAA,KAAK,EAAC,WAPV;AAQI,IAAA,IAAI,EAAC,MART;AASI,IAAA,QAAQ,MATZ;AAUI,IAAA,SAAS,MAVb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9CF,EA0DI,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,YADP;AAEE,IAAA,KAAK,EAAErD,UAFT;AAGE,IAAA,QAAQ,EAAGkB,CAAD,IAAOjB,aAAa,CAACiB,CAAC,CAACkC,MAAF,CAASC,KAAV,CAHhC;AAIE,IAAA,SAAS,MAJX;AAKE,IAAA,MAAM,EAAC,QALT;AAME,IAAA,EAAE,EAAC,YANL;AAOE,IAAA,KAAK,EAAC,WAPR;AAQE,IAAA,IAAI,EAAC,MARP;AASE,IAAA,QAAQ,MATV;AAUE,IAAA,SAAS,MAVX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1DJ,EAsEI,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAEnD,IAFT;AAGE,IAAA,QAAQ,EAAGgB,CAAD,IAAOf,OAAO,CAACe,CAAC,CAACkC,MAAF,CAASC,KAAV,CAH1B;AAIE,IAAA,SAAS,MAJX;AAKE,IAAA,MAAM,EAAC,QALT;AAME,IAAA,EAAE,EAAC,MANL;AAOE,IAAA,KAAK,EAAC,MAPR;AAQE,IAAA,IAAI,EAAC,MARP;AASE,IAAA,QAAQ,MATV;AAUE,IAAA,SAAS,MAVX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtEJ,EAkFI,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,KAAK,EAAEjD,OAFT;AAGE,IAAA,QAAQ,EAAGc,CAAD,IAAOb,UAAU,CAACa,CAAC,CAACkC,MAAF,CAASC,KAAV,CAH7B;AAIE,IAAA,SAAS,MAJX;AAKE,IAAA,MAAM,EAAC,QALT;AAME,IAAA,EAAE,EAAC,SANL;AAOE,IAAA,KAAK,EAAC,SAPR;AAQE,IAAA,IAAI,EAAC,MARP;AASE,IAAA,QAAQ,MATV;AAUE,IAAA,SAAS,MAVX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlFJ,EA8FK,oBAAC,SAAD;AACC,IAAA,IAAI,EAAC,MADN;AAEC,IAAA,KAAK,EAAE/C,IAFR;AAGC,IAAA,QAAQ,EAAGY,CAAD,IAAOX,OAAO,CAACW,CAAC,CAACkC,MAAF,CAASC,KAAV,CAHzB;AAIC,IAAA,SAAS,MAJV;AAKC,IAAA,MAAM,EAAC,QALR;AAMC,IAAA,EAAE,EAAC,MANJ;AAOC,IAAA,KAAK,EAAC,MAPP;AAQC,IAAA,IAAI,EAAC,MARN;AASC,IAAA,QAAQ,MATT;AAUC,IAAA,SAAS,MAVV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9FL,EA0GK,oBAAC,SAAD;AACC,IAAA,IAAI,EAAC,OADN;AAEC,IAAA,KAAK,EAAE7C,KAFR;AAGC,IAAA,QAAQ,EAAGU,CAAD,IAAOT,QAAQ,CAACS,CAAC,CAACkC,MAAF,CAASC,KAAV,CAH1B;AAIC,IAAA,SAAS,MAJV;AAKC,IAAA,MAAM,EAAC,QALR;AAMC,IAAA,EAAE,EAAC,OANJ;AAOC,IAAA,KAAK,EAAC,OAPP;AAQC,IAAA,IAAI,EAAC,MARN;AASC,IAAA,QAAQ,MATT;AAUC,IAAA,SAAS,MAVV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1GL,EAsHI,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEpE,OAAO,CAACZ,UAA3B;AAAuC,IAAA,IAAI,EAAC,QAA5C;AAAqD,IAAA,KAAK,EAAC,SAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAtHJ,CADF,CARF,EAqIE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAEY,OAAO,CAAChB,KAA1B;AAAiC,IAAA,SAAS,EAAE,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CADF,EAICqB,QAAQ,CAAC4D,GAAT,CAAa,CAACI,OAAD,EAAUC,CAAV,KACZ,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAEtE,OAAO,CAACpB,IAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAO,IAAA,SAAS,MAAhB;AAAiB,IAAA,OAAO,EAAE,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAG,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEyF,OAAO,CAACvB,QAAlB;AAA4B,IAAA,KAAK,EAAE,MAAnC;AAA2C,IAAA,MAAM,EAAE,MAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAeuB,OAAO,CAACE,IAAvB,MADF,EAEE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAgBF,OAAO,CAACG,KAAxB,MAFF,EAGE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgBH,OAAO,CAAClB,KAAxB,MAHF,CAJF,CADF,CADD,CAJD,CADF,EAoBI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAoChD,KAApC,MADJ,CApBJ,CADF,CArIF,CARF,CADF;AA+KD,CAhRD;;AAmRA,eAAeT,YAAf","sourcesContent":["import Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport SingleLineError from '../Error'\nimport {withFirebase} from '../Firebase'\nimport {compose} from 'recompose'\nimport React, { useEffect, useState, useRef } from 'react';\nimport { BrowserRouter as Router, Link, Route } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport NullImage from '../Product/No-Image-Available.jpg';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport Drawer from '@material-ui/core/Drawer';\nimport { CardMedia, Card, CardContent, CardActions } from '@material-ui/core'\n\nimport Button from '@material-ui/core/Button';\nimport { withAuthentication, AuthUserContext } from '../Session';\n\n\nconst useStyles = makeStyles({\n  grid:{\n    margin:0,\n    padding:0,\n    marginLeft:0,\n  },\n  paper: {\n    marginLeft:40,\n    width: '100%',\n    backgroundColor: \"rgba(0,0,0,0)\",\n  },\n  fullList: {\n    width: 'auto',\n  },\n  cartButton:{\n    marginTop:20,\n    height:47,\n    width:'100%',\n    color: '#FFFFFF',\n    float:'center',\n    backgroundColor: '#00B4F4',\n    borderRadius:0,\n    '&:hover':{\n      backgroundColor: '#D6D6D6'\n    }\n  },\n});\n\n\nconst CheckOutView = compose(withAuthentication, withFirebase)((props) => {\n\n  return(\n   <AuthUserContext.Consumer>\n     {authUser => <CheckOutViewBase authUser={authUser} firebase={props.firebase} history={props.history}/>}\n   </AuthUserContext.Consumer>\n  )\n})\n\nconst CheckOutViewBase = (props) => {\n  const classes = useStyles();\n  const storageRef = props.firebase.storage;\n  const [total, setTotal] = React.useState(0);\n  const [products, setProducts] = React.useState([]);\n\n  const [email, setEmail ]                    = useState('');\n  const [userFirstName, setUserFirstName     ] = useState('');\n  const [userLastName,  setUserLastName      ] = useState('')\n  const [addressOne,    setAddressOne       ] = useState('');\n  const [addressTwo,    setAddressTwo       ] = useState('');\n  const [city,          setCity             ] = useState('');\n  const [country,       setCountry          ] = useState('');\n  const [code,          setCode             ] = useState('');\n  const [phone,         setPhone            ] = useState('');\n  const [errors, setErorrs] = useState([]);\n\n  useEffect(() => {\n    setEmail        (!!props.authUser && !!props.authUser.email         ? props.authUser.email          : '')\n    setUserFirstName(!!props.authUser && !!props.authUser.userFirstName ? props.authUser.userFirstName  : '') \n    setUserLastName (!!props.authUser && !!props.authUser.userLastName  ? props.authUser.userLastName   : '') \n    setAddressOne   (!!props.authUser && !!props.authUser.addressOne    ? props.authUser.addressOne     : '') \n    setAddressTwo   (!!props.authUser && !!props.authUser.addressTwo    ? props.authUser.addressTwo     : '') \n    setCity         (!!props.authUser && !!props.authUser.city          ? props.authUser.city           : '') \n    setCountry      (!!props.authUser && !!props.authUser.country       ? props.authUser.country        : '') \n    setCode         (!!props.authUser && !!props.authUser.code          ? props.authUser.code           : '') \n    setPhone        (!!props.authUser && !!props.authUser.phone         ? props.authUser.phone          : '') \n\n  }, [])\n\n useEffect(() => {\n    if(!!localStorage.getItem('cart')){\n\n      let obj = JSON.parse(localStorage.getItem('cart'));\n\n      setTotal(0);\n      setProducts([]);\n\n      if(!!obj) {\n        obj.forEach( e => {\n          if(!!e.key)\n            props.firebase.products().child(e.key).once('value', (snapshot) => {\n              if(snapshot.exists()) {     \n                      \n                  // Try to get url from the storage\n                  storageRef.ref().child(snapshot.val().previewImage).getDownloadURL().then( (url) => { \n\n                    let element = {...snapshot.val(), imageRef:url, key:snapshot.key}\n                    \n                    console.log(element.imageRef);\n                    if(element.isPublic) {\n                      setTotal(t => (+t + +element.price));\n                      setProducts(a => [...a, element])\n                    }                \n                    // if it fails set the url to the default image\n                  }).catch(err => {\n\n                    let element = {...snapshot.val(), imageRef:NullImage, key:snapshot.key}\n                    console.log(element.imageRef);\n                    if(element.isPublic) {\n                      setTotal(t => t + element.price);\n                      setProducts(a => [...a, element])\n                    }\n                  })\n              }\n            });\n          })\n      }\n    }\n  }, [])\n\n  const onSubmit = event => {\n\n    let user = {\n        email,\n        userFirstName,\n        userLastName,\n        addressOne,\n        addressTwo,\n        city,\n        country,\n        code,\n        phone,\n    }\n    \n    props.firebase.createOrder(JSON.parse(localStorage.getItem('cart')), user)\n      .catch((err) => {\n        console.log(err)\n      })\n\n\n    localStorage.setItem('cart', JSON.stringify([]));\n    props.history.push('/');\n    event.preventDefault();\n    \n  }\n  \n  return(\n    <React.Fragment>\n      <Drawer anchor=\"right\" open={props.open} onClose={() => console.log(\"cart closed\")}>\n\n      <Link to=\"/checkout\"> \n        Check out\n      </Link>\n      </Drawer>\n\n      <Grid container className={classes.returningCustomerText}>\n\n        <Grid item xs={3}>\n          <div className={classes.returningCustomerText}>\n            <Typography variant=\"h5\" > Check Out </Typography>\n          </div>     \n        </Grid>\n\n        <Grid item xs={4}>      \n          <form onSubmit={onSubmit}>     \n            {!!errors && errors.map((err, id) => {\n              return(<SingleLineError key={id} error={err}/>)\n            })}      \n            <Grid container spacing={2}>\n            <TextField\n                autoFocus          \n                margin=\"normal\"\n                name=\"addressOne\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                id=\"addressOne\"\n                label=\"Address 1\"\n                type=\"email\"\n                required\n                fullWidth\n              />\n              <Grid item xs={6}>\n\n              <TextField\n                name=\"firstName\"\n                value={userFirstName}\n                onChange={(e) => setUserFirstName(e.target.value)}\n                type=\"text\"\n                autoFocus          \n                id=\"firstName\"\n                label=\"First Name\"\n                required\n                fullWidth\n\n              />\n              </Grid>\n              <Grid item xs={6}>\n                <TextField\n                  name=\"lastname\"\n                  value={userLastName}\n                  onChange={(e) => setUserLastName(e.target.value)}\n                  type=\"text\"\n                  autoFocus          \n                  id=\"lastname\"\n                  label=\"Last Name\"\n                  required\n                  fullWidth\n                />\n              </Grid>\n            </Grid>\n            <TextField\n                autoFocus          \n                margin=\"normal\"\n                name=\"addressOne\"\n                value={addressOne}\n                onChange={(e) => setAddressOne(e.target.value)}\n                id=\"addressOne\"\n                label=\"Address 1\"\n                type=\"text\"\n                required\n                fullWidth\n              />\n              <TextField\n                name=\"addressTwo\"\n                value={addressTwo}\n                onChange={(e) => setAddressTwo(e.target.value)}\n                autoFocus\n                margin=\"normal\"\n                id=\"addressTwo\"\n                label=\"Address 2\"\n                type=\"text\"\n                required\n                fullWidth\n              />\n              <TextField\n                name=\"city\"\n                value={city}\n                onChange={(e) => setCity(e.target.value)}\n                autoFocus\n                margin=\"normal\"\n                id=\"city\"\n                label=\"City\"\n                type=\"text\"\n                required\n                fullWidth\n              />\n              <TextField\n                name=\"country\"\n                value={country}\n                onChange={(e) => setCountry(e.target.value)}\n                autoFocus\n                margin=\"normal\"\n                id=\"country\"\n                label=\"Country\"\n                type=\"text\"\n                required\n                fullWidth\n              />\n               <TextField\n                name=\"code\"\n                value={code}\n                onChange={(e) => setCode(e.target.value)}\n                autoFocus\n                margin=\"normal\"\n                id=\"code\"\n                label=\"code\"\n                type=\"text\"\n                required\n                fullWidth\n              />\n               <TextField\n                name=\"phone\"\n                value={phone}\n                onChange={(e) => setPhone(e.target.value)}\n                autoFocus\n                margin=\"normal\"\n                id=\"phone\"\n                label=\"phone\"\n                type=\"text\"\n                required\n                fullWidth\n              />\n              <Button className={classes.cartButton} type=\"submit\" color=\"primary\">\n                Check Out\n              </Button>\n          </form>\n          </Grid>\n          \n        <Grid item xs={4}>\n          <Paper className={classes.paper} elevation={0}>\n            <List>\n              <ListItem>\n                <Typography variant=\"h6\"> Shopping cart </Typography>\n              </ListItem>\n            {products.map((product, i) => (\n              <ListItem className={classes.grid}>\n                <Grid  container spacing={0}>\n                  <Grid item xs ={3}>\n                    <img src={product.imageRef} width={'100%'} height={'100%'}/>\n                  </Grid>\n                  <Grid item xs={9}>\n                    <Typography > {product.name} </Typography>\n                    <Typography  > {product.model} </Typography>\n                    <Typography > ${product.price} </Typography>\n                  </Grid>\n                </Grid>\n              </ListItem>\n            ))}\n            </List>\n              <ListItem>\n                  <Typography variant=\"h6\"> Total : ${total} </Typography>\n              </ListItem> \n\n          </Paper>\n        </Grid>\n        \n      </Grid>\n\n    </React.Fragment>\n  );\n\n}\n\n\nexport default CheckOutView;"]},"metadata":{},"sourceType":"module"}